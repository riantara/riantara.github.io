<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akar dan Mawar Jatuh</title>
    <style>
        /* --- Reset dan Latar Belakang --- */
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: linear-gradient(to bottom, #1a2a1a, #2b3e25); /* Latar belakang hutan gelap */
            overflow: hidden; /* Mencegah scrollbar saat mawar jatuh keluar layar */
            display: flex;
            justify-content: center;
            font-family: sans-serif;
        }

        /* --- Desain Akar (Trigger) --- */
        .root-container {
            position: relative;
            top: 0;
            cursor: pointer;
            z-index: 10; /* Pastikan akar di atas mawar */
            text-align: center;
        }

        /* Visualisasi Akar menggunakan CSS */
        .the-root {
            width: 200px;
            height: 80px;
            background: #5c4033; /* Warna coklat kayu */
            border-radius: 0 0 50% 50% / 0 0 100% 100%; /* Membuat bentuk melengkung ke bawah */
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            color: #d4c4a8;
            font-weight: bold;
            border: 4px solid #3e2b22;
            transition: transform 0.2s;
        }

        /* Efek saat akar disentuh/diklik */
        .the-root:active {
            transform: scale(0.95); /* Sedikit mengecil saat ditekan */
            background: #6d4c3d;
        }

        /* Tambahan detail cabang kecil (opsional) */
        .the-root::before, .the-root::after {
            content: '';
            position: absolute;
            background: #5c4033;
            z-index: -1;
        }
        .the-root::before {
            width: 60px; height: 60px;
            top: 20px; left: -20px;
            border-radius: 0 0 50% 0;
            transform: rotate(-20deg);
        }
        .the-root::after {
            width: 60px; height: 70px;
            top: 10px; right: -20px;
            border-radius: 0 0 0 50%;
            transform: rotate(20deg);
        }


        /* --- Desain Mawar Jatuh --- */
        .falling-rose {
            position: absolute;
            top: -50px; /* Mulai dari luar layar atas */
            font-size: 24px;
            pointer-events: none; /* Agar mawar tidak bisa diklik */
            /* Animasi akan diterapkan via JS */
        }

        /* Keyframes untuk animasi jatuh */
        @keyframes fallAndSpin {
            0% {
                transform: translateY(0) rotate(0deg) translateX(0);
                opacity: 1;
            }
            100% {
                /* Jatuh ke bawah layar (110vh), berputar, dan sedikit bergeser ke samping */
                transform: translateY(110vh) rotate(360deg) translateX(calc(-50px + Math.random() * 100px)); 
                opacity: 0.7;
            }
        }

        /* Instruksi kecil */
        .instruction {
            position: absolute;
            top: 120px;
            color: rgba(255,255,255,0.6);
            font-size: 0.9rem;
        }

    </style>
</head>
<body>

    <div class="root-container" id="rootTrigger">
        <div class="the-root">
            SENTUH AKAR
        </div>
    </div>
    <div class="instruction">Ketuk akar untuk menjatuhkan mawar</div>

    <script>
        const rootTrigger = document.getElementById('rootTrigger');

        // Fungsi untuk membuat satu mawar
        function createRose() {
            const rose = document.createElement('div');
            rose.innerHTML = 'ðŸŒ¹'; // Menggunakan emoji mawar
            rose.classList.add('falling-rose');

            // --- Randomisasi ---
            
            // 1. Posisi Horizontal Acak
            // Agar muncul di sekitar area akar (tengah layar)
            const startX = window.innerWidth / 2 + (Math.random() * 200 - 100);
            rose.style.left = startX + 'px';

            // 2. Ukuran Acak (antara 20px sampai 40px)
            const size = Math.random() * 20 + 20;
            rose.style.fontSize = size + 'px';

            // 3. Durasi Jatuh Acak (antara 3s sampai 6s)
            const duration = Math.random() * 3 + 3;
            
            // 4. Gerakan Horizontal Acak (Sway) saat jatuh
            // Kita perlu membuat keyframe dinamis untuk setiap mawar agar gerakan sway-nya berbeda
            const randomSway = Math.random() * 100 - 50; // Antara -50px ke 50px
            const animationName = `fall-${Math.random().toString(36).substr(2, 9)}`; // Nama animasi unik
            
            // Membuat style untuk keyframe dinamis
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes ${animationName} {
                    to {
                        transform: translateY(110vh) rotate(${Math.random() * 720}deg) translateX(${randomSway}px);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);

            // Terapkan animasi ke elemen mawar
            rose.style.animation = `${animationName} ${duration}s linear forwards`;

            document.body.appendChild(rose);

            // --- Pembersihan ---
            // Hapus elemen mawar dan style keyframenya setelah animasi selesai agar browser tidak berat
            setTimeout(() => {
                rose.remove();
                style.remove();
            }, duration * 1000);
        }

        // Event Listener saat akar disentuh/diklik
        rootTrigger.addEventListener('click', (e) => {
            // Efek getar sedikit pada akar (opsional)
            rootTrigger.style.transform = "translateY(5px)";
            setTimeout(() => rootTrigger.style.transform = "translateY(0)", 100);

            // Munculkan beberapa mawar sekaligus (misal: 10 mawar per klik)
            for(let i = 0; i < 10; i++) {
                // Beri sedikit jeda antar mawar agar tidak muncul bersamaan persis
                setTimeout(createRose, i * 100);
            }
        });
    </script>

</body>
</html>
